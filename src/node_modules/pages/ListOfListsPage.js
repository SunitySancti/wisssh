import { React } from 'react'
import { Link, useLocation } from 'react-router-dom'
import { useSelector } from 'react-redux'

import { WishlistLine } from 'containers/WishlistLine'
import { getDaysToEvent, sortByDateAscend, sortByDateDescend } from 'getters'

export const ListOfListsPage = () => {
    const loca = useLocation().pathname;
    const wishlists = useSelector(state => state.wishlists.all);

    const events = wishlists.filter(list => list.date);
    let pastEvents = events.filter(event => getDaysToEvent(event) < 0);
    let actualEvents = events.filter(event => !pastEvents.includes(event));
    actualEvents.sort(sortByDateAscend);
    pastEvents.sort(sortByDateDescend);

    console.log(actualEvents, pastEvents)

    return (
        <div className='list-of-lists-page'>
            { actualEvents.map((item, index) => (
                <WishlistLine wishlist={ item } key={ index }/>
            ))}
            <div className='group-header'>
                <span>Прошедшие события</span>
            </div>
            { pastEvents.map((item, index) => (
                <WishlistLine wishlist={ item } key={ index }/>
            ))}
        </div>
    );
}